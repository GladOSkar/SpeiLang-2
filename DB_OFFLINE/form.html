<!DOCTYPE html>
<html>
	<head>
		<title>Neuer Datenbankeintrag</title>
		<meta charset="utf-8">
		<link href="style.css" rel="stylesheet" type="text/css">
		<style>
			input[type="radio"] {
				width: 16px;
			}
		</style>
	</head>
	<body>
		<div id="form" class="forms">
			<h1>Neuer Datenbankeintrag</h1>
			<input type="radio" id="felgenradio" name="typ">
			<label for="felgenradio">Felge</label>
			<input type="radio" id="nabenradio" name="typ" checked>
			<label for="nabenradio">Nabe</label>
			<div id="datafields">
				<input type="number" id="ilochzahl">
				<!--### Dynamisch generierte Felder! ###-->
			</div>
			<button id="submitbutton">✓ Speichern</button>
		</div>
		<script>
			var dfs = document.getElementById("datafields");

			function updatedfs(typ) {
				if (typ) {
					console.log("zeige formular für naben...");
					dfs.innerHTML = "<input type=\"number\" id=\"ilochzahl\">";

					var fspeichenlochDM = document.createElement("input"),
						flochkreisDML = document.createElement("input"),
						flochkreisDMR = document.createElement("input"),
						fabstandL = document.createElement("input"),
						fabstandR = document.createElement("input");

					fspeichenlochDM.id = "ispeichenlochDM";
					flochkreisDML.id = "ilochkreisDML";
					flochkreisDMR.id = "ilochkreisDMR";
					fabstandL.id = "iabstandL";
					fabstandR.id = "iabstandR";

					fspeichenlochDM.type = "number";
					flochkreisDML.type = "number";
					flochkreisDMR.type = "number";
					fabstandL.type = "number";
					fabstandR.type = "number";

					dfs.appendChild(fspeichenlochDM);
					dfs.appendChild(flochkreisDML);
					dfs.appendChild(flochkreisDMR);
					dfs.appendChild(fabstandL);
					dfs.appendChild(fabstandR);


				} else {
					console.log("zeige formular für felgen...");
					dfs.innerHTML = "<input type=\"number\" id=\"ilochzahl\">";

					var fdurchmesser = document.createElement("input");

					fdurchmesser.id = "idurchmesser";

					fdurchmesser.type = "number";

					dfs.appendChild(fdurchmesser);
				};
			}

			function showform() {
				"use strict";

				//TODO: lay form over ui

				document.getElementById("felgenradio").onchange = function() {
        			updatedfs(false);
    			};

				document.getElementById("nabenradio").onchange = function() {
					updatedfs(true);
				};

				console.log("event listeners set");

			}

			window.onload = function(){
				showform();
				updatedfs(document.getElementById("nabenradio").checked);
			}
		</script>
	</body>
</html>
